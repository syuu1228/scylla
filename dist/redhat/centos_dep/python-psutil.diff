--- python-psutil.spec.orig	2017-04-06 05:44:05.388523012 +0000
+++ python-psutil.spec	2017-04-06 07:14:48.330684318 +0000
@@ -4,7 +4,7 @@
 # Filter Python modules from Provides
 %global __provides_exclude_from ^(%{python2_sitearch}|%{python3_sitearch})/.*\\.so$
 
-Name:           python-%{srcname}
+Name:           python34-%{srcname}
 Version:        4.3.0
 Release:        2%{?dist}
 Summary:        %{sum}
@@ -13,12 +13,12 @@
 URL:            https://github.com/giampaolo/psutil
 Source0:        https://github.com/giampaolo/psutil/archive/release-%{version}.tar.gz#/%{srcname}-%{version}.tar.gz
 
-BuildRequires:  python2-devel
 BuildRequires:  python%{python3_pkgversion}-devel
 # Test dependencies
 BuildRequires:  procps-ng
 BuildRequires:  python-mock
 BuildRequires:  python%{python3_pkgversion}-mock
+BuildRequires:  python%{python3_pkgversion}-setuptools
 
 %description
 psutil is a module providing an interface for retrieving information on all
@@ -27,31 +27,8 @@
 command line tools such as: ps, top, df, kill, free, lsof, free, netstat,
 ifconfig, nice, ionice, iostat, iotop, uptime, pidof, tty, who, taskset, pmap.
 
-
-%package -n python2-%{srcname}
-Summary:        %{sum}
-%{?python_provide:%python_provide python2-%{srcname}}
-Obsoletes:      python-%{srcname} < 3.1.1-3
-
-%description -n python2-psutil
-psutil is a module providing an interface for retrieving information on all
-running processes and system utilization (CPU, memory, disks, network, users) in
-a portable way by using Python 3, implementing many functionalities offered by
-command line tools such as: ps, top, df, kill, free, lsof, free, netstat,
-ifconfig, nice, ionice, iostat, iotop, uptime, pidof, tty, who, taskset, pmap.
-
-%package -n python%{python3_pkgversion}-psutil
-Summary:        %{sum}
 %{?python_provide:%python_provide python%{python3_pkgversion}-%{srcname}}
 
-%description -n python%{python3_pkgversion}-psutil
-psutil is a module providing an interface for retrieving information on all
-running processes and system utilization (CPU, memory, disks, network, users) in
-a portable way by using Python 3, implementing many functionalities offered by
-command line tools such as: ps, top, df, kill, free, lsof, free, netstat,
-ifconfig, nice, ionice, iostat, iotop, uptime, pidof, tty, who, taskset, pmap.
-
-
 %prep
 %autosetup -p1 -n %{srcname}-release-%{version}
 
@@ -64,29 +41,18 @@
 
 
 %build
-%py2_build
 %py3_build
 
 
 %install
-%py2_install
 %py3_install
 
 
 %check
 # the main test target causes failures, investigating
-make test-memleaks PYTHON=%{__python2}
 make test-memleaks PYTHON=%{__python3}
 
- 
-%files -n python2-%{srcname}
-%license LICENSE
-%doc CREDITS HISTORY.rst README.rst
-%{python2_sitearch}/%{srcname}/
-%{python2_sitearch}/*.egg-info
-
-
-%files -n python%{python3_pkgversion}-%{srcname}
+%files
 %license LICENSE
 %doc CREDITS HISTORY.rst README.rst
 %{python3_sitearch}/%{srcname}/
